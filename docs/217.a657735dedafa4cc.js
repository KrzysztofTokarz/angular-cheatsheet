"use strict";(self.webpackChunkangular_cheatsheet=self.webpackChunkangular_cheatsheet||[]).push([[217],{5303:(f,m,r)=>{r.d(m,{s:()=>e});var p=r(6814),s=r(5879);function g(c,a){1&c&&(s.TgZ(0,"span",3),s._uU(1,"Please open console!"),s.qZA())}const v=["*"];let e=(()=>{class c{constructor(){this.openConsole=!1}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=s.Xpm({type:c,selectors:[["app-live-example"]],inputs:{openConsole:"openConsole"},standalone:!0,features:[s.jDz],ngContentSelectors:v,decls:5,vars:1,consts:[[1,"mt-5"],["class","chip",4,"ngIf"],[1,"content"],[1,"chip"]],template:function(l,d){1&l&&(s.F$t(),s.TgZ(0,"h3",0),s._uU(1," Live example: "),s.YNc(2,g,2,0,"span",1),s.qZA(),s.TgZ(3,"div",2),s.Hsn(4),s.qZA()),2&l&&(s.xp6(2),s.Q6J("ngIf",d.openConsole))},dependencies:[p.ez,p.O5],styles:["[_nghost-%COMP%]{display:block}.content[_ngcontent-%COMP%]{padding:15px;border-radius:10px;background-color:#f0f0f0}.chip[_ngcontent-%COMP%]{padding:5px 10px;border-radius:8px;background-color:#6495ed;color:#fff;margin-left:5px;font-size:14px}"]}),c})()},9217:(f,m,r)=>{r.r(m),r.d(m,{default:()=>k});var p=r(6814),s=r(95),g=r(9849),v=r(5303),e=r(5879);const c=new e.OlP("log clicks");let a=(()=>{class t{constructor(o){this.logClicks=o,this.prop="property from DeepNestedDirective"}onClick(){this.logClicks&&console.log("click binding from DeepNestedDirective")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["","appDeepNested",""]],hostBindings:function(o,n){1&o&&e.NdJ("click",function(){return n.onClick()})},standalone:!0}),t})(),l=(()=>{class t{constructor(o){this.logClicks=o,this.prop="property from NestedDirective"}onClick(){this.logClicks&&console.log("click binding from NestedDirective")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["","appNested",""]],hostBindings:function(o,n){1&o&&e.NdJ("click",function(){return n.onClick()})},standalone:!0,features:[e.zW0([a])]}),t})(),d=(()=>{class t{constructor(o){this.logClicks=o,this.prop="property from RootDirective"}onClick(){this.logClicks&&console.log("click binding from RootDirective")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c))},t.\u0275dir=e.lG2({type:t,selectors:[["","appRoot",""]],hostBindings:function(o,n){1&o&&e.NdJ("click",function(){return n.onClick()})},standalone:!0,features:[e._Bn([{provide:c,useValue:!0}]),e.zW0([l])]}),t})(),C=(()=>{class t{constructor(o,n,u){this.nestedDirective=o,this.rootDirective=n,this.deepNestedDirective=u}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(l),e.Y36(d),e.Y36(a))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-directive-composition-injected"]],standalone:!0,features:[e._Bn([{provide:c,useValue:!1}]),e.jDz,e.zW0([d])],decls:6,vars:3,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1),e.qZA(),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()),2&o&&(e.xp6(1),e.Oqu(n.rootDirective.prop),e.xp6(2),e.Oqu(n.nestedDirective.prop),e.xp6(2),e.Oqu(n.deepNestedDirective.prop))},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),D=(()=>{class t{constructor(){this.doubledNumber=new e.vpe}ngOnChanges(o){o.someNumber&&!o.someNumber.isFirstChange()&&this.doubledNumber.emit(2*this.someNumber)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=e.lG2({type:t,selectors:[["","appInputsOutputs",""]],inputs:{someNumber:"someNumber"},outputs:{doubledNumber:"doubledNumber"},standalone:!0,features:[e.TTD]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-directive-composition-inputs-outputs"]],standalone:!0,features:[e.jDz,e.zW0([{directive:D,inputs:["someNumber","someNumber"],outputs:["doubledNumber","out"]}])],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"directive-composition-inputs-outputs works!"),e.qZA())},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),Z=(()=>{class t{onClick(){console.log("The component was clicked")}constructor(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=e.lG2({type:t,selectors:[["","appLogger",""]],hostBindings:function(o,n){1&o&&e.NdJ("click",function(){return n.onClick()})},standalone:!0}),t})(),b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-directive-composition-logger"]],standalone:!0,features:[e.jDz,e.zW0([Z])],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"directive-composition-logger works!"),e.qZA())},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:block;padding:10px;border:1px solid black}"]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-directive-composition-nested"]],standalone:!0,features:[e.jDz,e.zW0([d])],decls:2,vars:0,template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1,"directive-composition-nested works!"),e.qZA())},dependencies:[p.ez],styles:["[_nghost-%COMP%]{display:block;padding:10px;border:1px solid black}"]}),t})();const k=(()=>{class t{constructor(){this.someNumber=1}showDoubledNumber(o){console.log(`The doubled number is - ${o}`)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-directive-composition"]],standalone:!0,features:[e.jDz],decls:56,vars:4,consts:[[3,"openConsole"],[1,"mt-4"],[3,"type","ngModel","ngModelChange"],[3,"someNumber","out"],[1,"mt-3"]],template:function(o,n){1&o&&(e.TgZ(0,"p"),e._uU(1," Starting from Angular 15 we can use the directive composition API that lets us apply directives to a component's host element from within the component TypeScript class.\n"),e.qZA(),e.TgZ(2,"p"),e._uU(3," We can do it by adding "),e.TgZ(4,"strong"),e._uU(5,"hostDirectives"),e.qZA(),e._uU(6," property inside of "),e.TgZ(7,"strong"),e._uU(8,"@Component()"),e.qZA(),e._uU(9," decorator object\n"),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Directives used in hostDirectives "),e.TgZ(12,"strong"),e._uU(13,"must be standalone"),e.qZA()(),e.TgZ(14,"app-live-example",0)(15,"p",1),e._uU(16,"Click any place inside the black border and check the console"),e.qZA(),e.TgZ(17,"p"),e._uU(18,"All clicks are handled by LoggerDirective attached to the component by hostDirectives property"),e.qZA(),e._UZ(19,"app-directive-composition-logger"),e.TgZ(20,"p",1),e._uU(21," When applying hostDirectives to component, the inputs and outputs from the host directives are not included in component's API by default. "),e.qZA(),e.TgZ(22,"p"),e._uU(23,"We need to explicitly define them by "),e.TgZ(24,"strong"),e._uU(25,"expanding the hostDirectives entry"),e.qZA()(),e.TgZ(26,"p"),e._uU(27,'We can also alias these properties like in our case: "'),e.TgZ(28,"strong"),e._uU(29,"doubledNumber:out"),e.qZA(),e._uU(30,'"'),e.qZA(),e.TgZ(31,"p"),e._uU(32,"Change the number below and check logs in the console to see how the directive is handling calculations:"),e.qZA(),e.TgZ(33,"app-input",2),e.NdJ("ngModelChange",function(h){return n.someNumber=h}),e.qZA(),e.TgZ(34,"app-directive-composition-inputs-outputs",3),e.NdJ("out",function(h){return n.showDoubledNumber(h)}),e.qZA(),e.TgZ(35,"p",1),e._uU(36," We can also define hostDirectives for other directives, this enables us to use "),e.TgZ(37,"strong"),e._uU(38,"multiple behaviors"),e.qZA(),e._uU(39," of them, each of these directives host bindings apply to the host element "),e.qZA(),e.TgZ(40,"p"),e._uU(41,"Click any place inside the black border and check the console"),e.qZA(),e._UZ(42,"app-directive-composition-nested",4),e.TgZ(43,"p",1),e._uU(44,"We can also "),e.TgZ(45,"strong"),e._uU(46,"inject"),e.qZA(),e._uU(47," directive instances inside our component and define providers for them!"),e.qZA(),e.TgZ(48,"p"),e._uU(49," If a component or directive with hostDirectives and those host directives both provide the same injection token, the providers defined by class with hostDirectives take precedence over providers defined by the host directives "),e.qZA(),e.TgZ(50,"p"),e._uU(51," In this case, we want to disable click logs to the console so we provide "),e.TgZ(52,"strong"),e._uU(53,"LOG_CLICKS"),e.qZA(),e._uU(54," injection token value as false "),e.qZA(),e._UZ(55,"app-directive-composition-injected"),e.qZA()),2&o&&(e.xp6(14),e.Q6J("openConsole",!0),e.xp6(19),e.Q6J("type","number")("ngModel",n.someNumber),e.xp6(1),e.Q6J("someNumber",n.someNumber))},dependencies:[p.ez,b,_,g.a,s.u5,s.JJ,s.On,y,C,v.s],styles:["[_nghost-%COMP%]{display:block}"]}),t})()}}]);